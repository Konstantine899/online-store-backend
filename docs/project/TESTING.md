# üß™ Testing Documentation

## –£—Ä–æ–≤–Ω–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Unit —Ç–µ—Å—Ç—ã

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ú–æ–∫–∏**: –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **–ë–µ–∑ –¥–æ—Å—Ç—É–ø–∞**: –∫ –ë–î, —Ñ–∞–π–ª–∞–º, —Å–µ—Ç–∏
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: —Å–µ—Ä–≤–∏—Å—ã, –ø–∞–π–ø—ã, –≥–≤–∞—Ä–¥—ã, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `jest --selectProjects unit`

### Integration —Ç–µ—Å—Ç—ã

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–†–µ–∞–ª—å–Ω–∞—è –ë–î**: —á–µ—Ä–µ–∑ Sequelize —Å —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î
- **HTTP —Å–ª–æ–π**: —Ä–µ–∞–ª—å–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, middleware
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `jest --selectProjects integration --runInBand`

### E2E —Ç–µ—Å—Ç—ã

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: —Å–∫–≤–æ–∑–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- **–ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫**: –æ—Ç HTTP –¥–æ –ë–î
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –∫–ª—é—á–µ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ–ª–æ—É
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `jest --config ./jest.e2e.config.js`

## –¢–µ—Å—Ç–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã

### TestDataFactory

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è race conditions.

**–ú–µ—Ç–æ–¥—ã**:

- `uniqueEmail()` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π email –∞–¥—Ä–µ—Å
- `uniquePhone()` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Ç–µ–ª–µ—Ñ–æ–Ω
- `createUserDto(overrides)` - DTO –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `randomFirstName()` - —Å–ª—É—á–∞–π–Ω–æ–µ –∏–º—è
- `randomLastName()` - —Å–ª—É—á–∞–π–Ω–∞—è —Ñ–∞–º–∏–ª–∏—è
- `createAddress(overrides)` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–¥—Ä–µ—Å–∞
- `createAuthenticatedUser()` - —Å–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ü—Ä–∏–º–µ—Ä**:

```typescript
import { TestDataFactory } from '../utils';

const email = TestDataFactory.uniqueEmail();
const phone = TestDataFactory.uniquePhone();
const userDto = TestDataFactory.createUserDto({ firstName: '–ò–≤–∞–Ω' });
```

### TestCleanup

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ë–î –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤.

**–ú–µ—Ç–æ–¥—ã**:

- `cleanUsers(sequelize)` - –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (id > 14)
- `resetUser13(sequelize)` - —Å–±—Ä–æ—Å user 13 –∫ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º
- `cleanUser13Addresses(sequelize)` - –æ—á–∏—Å—Ç–∫–∞ –∞–¥—Ä–µ—Å–æ–≤ user 13
- `cleanAuthData(sequelize)` - –æ—á–∏—Å—Ç–∫–∞ login_history + refresh_token
- `cleanOrders(sequelize)` - –æ—á–∏—Å—Ç–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- `cleanCarts(sequelize)` - –æ—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω
- `cleanAll(sequelize)` - –ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–º–µ—Ä**:

```typescript
import { TestCleanup } from '../utils';

afterEach(async () => {
    const sequelize = app.get(Sequelize);
    await TestCleanup.resetUser13(sequelize);
    await TestCleanup.cleanUsers(sequelize);
});
```

### TestTransaction

–ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è unit —Ç–µ—Å—Ç–æ–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π rollback –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞
- –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ cleanup
- –ë—ã—Å—Ç—Ä–µ–µ —á–µ–º TestCleanup
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è unit —Ç–µ—Å—Ç–æ–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**:

- –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç DDL –æ–ø–µ—Ä–∞—Ü–∏–∏
- –°–ª–æ–∂–Ω–µ–µ debugging

**–ü—Ä–∏–º–µ—Ä**:

```typescript
import { TestTransaction } from '../utils';

describe('UserRepository', () => {
    beforeEach(async () => {
        await TestTransaction.begin();
    });

    afterEach(async () => {
        await TestTransaction.rollback();
    });
});
```

### MockFactories

–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–∫–∏ –¥–ª—è unit —Ç–µ—Å—Ç–æ–≤.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:

- –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–∫–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–∫–æ–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–∫–æ–≤ –º–æ–¥–µ–ª–µ–π
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤

## Jest –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- **`isolatedModules`**: —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ TypeScript
- **`diagnostics: false`**: –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: TypeScript, Jest, npm dependencies
- **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è**: unit —Ç–µ—Å—Ç—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, integration –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ

### CI –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- **`bail: true`**: –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ
- **`silent: true`**: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥
- **`minimal reporters`**: —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–µ–ø–æ—Ä—Ç–µ—Ä—ã
- **`maxWorkers: 4`**: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–æ—Ä–∫–µ—Ä–æ–≤

### Project –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- **Unit**: –±—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã –±–µ–∑ –ë–î
- **Integration**: —Ç–µ—Å—Ç—ã —Å –ë–î, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
- **E2E**: —Å–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

- **Unit**: `*.unit.test.ts`
- **Integration**: `*.integration.test.ts`
- **E2E**: `*.e2e.test.ts`

### –ö–∞—Ç–∞–ª–æ–≥–∏

- `tests/unit/` - unit —Ç–µ—Å—Ç—ã
- `tests/integration/` - integration —Ç–µ—Å—Ç—ã
- `tests/e2e/` - E2E —Ç–µ—Å—Ç—ã
- `tests/setup/` - –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `tests/utils/` - —Ç–µ—Å—Ç–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã

### –ü—Ä–∞–≤–∏–ª–æ AAA

- **Arrange** - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **Act** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
- **Assert** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–æ–≤

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

- –ß–∏—Å—Ç–∞—è –ë–î –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Å–∏–¥—ã

### –ò–∑–æ–ª—è—Ü–∏—è

- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å rollback –Ω–∞ —Ç–µ—Å—Ç/—Å—å—é—Ç
- –ò–ª–∏ —Å–±—Ä–æ—Å –¥–∞–Ω–Ω—ã–º–∏ —Å–∏–¥–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫/–±–∏–ª–¥–µ—Ä–æ–≤

### –î–∞–Ω–Ω—ã–µ

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫ –≤–º–µ—Å—Ç–æ "–º–∞–≥–∏—á–µ—Å–∫–∏—Ö" –∫–æ–Ω—Å—Ç–∞–Ω—Ç
- –§–∏–∫—Å–∞—Ü–∏—è –æ–∂–∏–¥–∞–Ω–∏–π —è–≤–Ω–æ
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–∫—Ä—ã—Ç—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## –ü–æ–∫—Ä—ã—Ç–∏–µ –∏ CI-–≥–µ–π—Ç—ã

### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –º–æ–¥—É–ª–∏

- **Auth, orders, payments, security**: –ø–æ–∫—Ä—ã—Ç–∏–µ ‚â• 80%
- **CI**: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ merge –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤
- **–ù–∞ —Ä–µ–ª–∏–∑–∞—Ö**: –æ—Ç—á–µ—Ç –æ –ø–æ–∫—Ä—ã—Ç–∏–∏

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞

- –ß—ë—Ç–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
- –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –∫–µ–π—Å—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- –ë–µ–∑ —Å–∫—Ä—ã—Ç—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏
- –Ø–≤–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ —Ñ–æ—Ä–º–∞—Ç—É –æ—Ç–≤–µ—Ç–∞/–æ—à–∏–±–æ–∫

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤

### –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–∞—Ü–∏—è

- –ë–µ–∑ –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö
- –ê–∫–∫—É—Ä–∞—Ç–Ω–æ —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ `beforeAll/afterAll`
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è "—Ç—è–∂—ë–ª—ã—Ö" —Å–∏–¥–æ–≤

### –í—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è

- –ß–∞—Å—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏—è PR
- –ù–µ –¥–æ–ø—É—Å–∫–∞—Ç—å –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–π –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

## –ß–µ–∫-–ª–∏—Å—Ç PR (—Ç–µ—Å—Ç—ã)

- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã unit —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤/–ø–∞–π–ø–æ–≤/–≥–≤–∞—Ä–¥–æ–≤
- [ ] –î–ª—è –Ω–æ–≤—ã—Ö endpoints/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –µ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–≤–∞–ª–∏–¥–∞—Ü–∏—è/guard/429/403/404)
- [ ] –ü–æ–∫—Ä—ã—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –Ω–µ –ø—Ä–æ—Å–µ–ª–æ (< 80% –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ)
- [ ] –¢–µ—Å—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ (–±–µ–∑ —Ñ–ª–∞–ø–æ–≤)
- [ ] –ù–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –í—ã–±–æ—Ä –º–µ—Ç–æ–¥–∞ –∏–∑–æ–ª—è—Ü–∏–∏

1. **TestCleanup** (—Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥)
    - ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π
    - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞
    - ‚úÖ –í–∏–¥–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î
    - ‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
    - **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è**: –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ integration —Ç–µ—Å—Ç–æ–≤

2. **TestTransaction**
    - ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ cleanup
    - ‚úÖ –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è
    - ‚ö†Ô∏è –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
    - ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ debugging
    - **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è**: unit —Ç–µ—Å—Ç–æ–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

3. **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥**
    - TestTransaction –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö unit —Ç–µ—Å—Ç–æ–≤
    - TestCleanup –¥–ª—è integration —Ç–µ—Å—Ç–æ–≤
    - **–õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞**

### Graceful shutdown

- –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –º–µ–∂–¥—É test suites
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –¢–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

- `CART_TEST_CONSTANTS` - –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –∫–æ—Ä–∑–∏–Ω—ã
- `TEST_CONSTANTS` - –æ–±—â–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏
