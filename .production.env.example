# =============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# Скопируйте в .production.env и замените значения
# НИКОГДА не коммитьте .production.env!
# ИСПОЛЬЗУЙТЕ SECRETS MANAGER в продакшене (Vault, AWS Secrets, Azure Key Vault)
# =============================================================================

NODE_ENV=production
PORT=5000

# CORS (только production домены!)
ALLOWED_ORIGINS=https://example.com,https://www.example.com

# Secrets (ОБЯЗАТЕЛЬНО 32+ символа!)
# ГЕНЕРАЦИЯ: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
COOKIE_PARSER_SECRET_KEY=GENERATE_CRYPTOGRAPHICALLY_STRONG_SECRET_64_CHARS
JWT_ACCESS_SECRET=GENERATE_CRYPTOGRAPHICALLY_STRONG_SECRET_64_CHARS
JWT_REFRESH_SECRET=GENERATE_DIFFERENT_STRONG_SECRET_64_CHARS

JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=30d

# Secret rotation (ОБЯЗАТЕЛЬНО для production!)
JWT_SECRET_ROTATION_DATE=2026-03-01T00:00:00Z
JWT_SECRET_VERSION=v1

# Database (используйте managed DB в продакшене)
DIALECT=mysql
SQL_LOGGING=false
MYSQL_HOST=prod-db.example.com
MYSQL_PORT=3306
MYSQL_DATABASE=online_store_prod
MYSQL_USER=prod_user
MYSQL_PASSWORD=USE_SECRETS_MANAGER_HERE

# Security (все ОБЯЗАТЕЛЬНО включены!)
SECURITY_HELMET_ENABLED=true
SECURITY_CORS_ENABLED=true
SECURITY_CSP_ENABLED=true

# Rate Limiting (более строгие лимиты)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_GLOBAL_RPS=3
RATE_LIMIT_GLOBAL_RPM=100
RATE_LIMIT_LOGIN_ATTEMPTS=3
RATE_LIMIT_LOGIN_WINDOW=15m
RATE_LIMIT_REFRESH_ATTEMPTS=5
RATE_LIMIT_REFRESH_WINDOW=5m
RATE_LIMIT_REG_ATTEMPTS=2
RATE_LIMIT_REG_WINDOW=2m

