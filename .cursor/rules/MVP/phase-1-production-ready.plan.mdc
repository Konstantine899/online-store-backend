# Phase 1: Production Ready –¥–ª—è Middle –ø–æ–∑–∏—Ü–∏–∏ (Binding)

binding: true
module: mvp-production-ready
epic_ref: MVP-PROD-READY
version: 1.0

execution_policy:
must_follow: true
allow_code_changes_only_after: "–û–¥–æ–±—Ä—è—é <TASK_ID>"
constraints: - —Ä–∞–±–æ—Ç–∞–µ–º —Å –¢–ï–ö–£–©–ò–ú –ø—Ä–æ–µ–∫—Ç–æ–º (online-store-backend) - –∫–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ = –æ–¥–∏–Ω –∫–æ–º–º–∏—Ç - —Ç–µ—Å—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã - production –∫–∞—á–µ—Å—Ç–≤–æ

context:
goal: –î–æ–≤–µ—Å—Ç–∏ —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç –¥–æ production-ready Middle —É—Ä–æ–≤–Ω—è –∑–∞ 1-1.5 –º–µ—Å—è—Ü–∞
current_state: 13 –º–æ–¥–µ–ª–µ–π, 47% coverage, –±–∞–∑–æ–≤–∞—è security, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
target_state: 75%+ coverage, security hardening, production deploy, –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
result: Strong middle-level –ø—Ä–æ–µ–∫—Ç –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ

---

## üéØ –û–±—â–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

### –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç online-store-backend ‚Äî —ç—Ç–æ —É–∂–µ Middle level!

**–ß—Ç–æ –µ—Å—Ç—å:**

- ‚úÖ Clean Architecture (Domain/Infrastructure)
- ‚úÖ 13 –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ NestJS —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ (Guards, Pipes, Interceptors)
- ‚úÖ JWT + RBAC
- ‚úÖ 47% test coverage
- ‚úÖ Swagger

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**

- üîß –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã (—Ç–µ—Å—Ç—ã, race conditions)
- üîß Security hardening (production-grade)
- üîß Coverage –¥–æ 75%+
- üîß Performance optimization
- üîß Production deploy
- üîß –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üìÖ –ù–µ–¥–µ–ª—è 1-2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º (–∫—Ä–∏—Ç–∏—á–Ω–æ)

### PROD-001: –ò—Å–ø—Ä–∞–≤–∏—Ç—å race conditions –≤ —Ç–µ—Å—Ç–∞—Ö

**–°—Å—ã–ª–∫–∞:** `.cursor/rules/SaaS/testing/testing.coverage.plan.mdc` ‚Üí TEST-001

**–ó–∞–¥–∞—á–∞:**

- –ò—Å–ø—Ä–∞–≤–∏—Ç—å user-admin.integration.test.ts (race conditions)
- –î–æ–±–∞–≤–∏—Ç—å cleanup –≤ afterEach
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ email/phone
- –î–æ–±–∞–≤–∏—Ç—å wait/retry –¥–ª—è async –æ–ø–µ—Ä–∞—Ü–∏–π

**DoD:**

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã user-admin –ø—Ä–æ—Ö–æ–¥—è—Ç (0 failed)
- [ ] –ù–µ—Ç race conditions
- [ ] –¢–µ—Å—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ

**–û—Ü–µ–Ω–∫–∞:** 3-4 —á–∞—Å–∞ (2-3 –≤–µ—á–µ—Ä–∞ –ø–æ 2 —á–∞—Å–∞)

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-001"

---

### PROD-002: –ò—Å–ø—Ä–∞–≤–∏—Ç—å 500 errors –≤ user-profile —Ç–µ—Å—Ç–∞—Ö

**–°—Å—ã–ª–∫–∞:** SaaS/testing ‚Üí TEST-002

**–ó–∞–¥–∞—á–∞:**

- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –ª–æ–≥–∏–Ω–∞ –≤ user-profile.integration.test.ts
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ authLoginAs
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É (–≤–µ—Ä–æ—è—Ç–Ω–æ LoginHistoryService)

**DoD:**

- [ ] authLoginAs('user') —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- [ ] –í—Å–µ user-profile —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ

**–û—Ü–µ–Ω–∫–∞:** 2-3 —á–∞—Å–∞

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-002"

---

### PROD-003: –ò—Å–ø—Ä–∞–≤–∏—Ç—å user-addresses –∏ rbac —Ç–µ—Å—Ç—ã

**–°—Å—ã–ª–∫–∞:** SaaS/testing ‚Üí TEST-003, TEST-004

**–ó–∞–¥–∞—á–∞:**

- –ò—Å–ø—Ä–∞–≤–∏—Ç—å FK constraint errors –≤ address —Ç–µ—Å—Ç–∞—Ö
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å undefined role –≤ rbac —Ç–µ—Å—Ç–∞—Ö
- –î–æ–±–∞–≤–∏—Ç—å cleanup –¥–ª—è refresh_token

**DoD:**

- [ ] –í—Å–µ address —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] RBAC —Ç–µ—Å—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã
- [ ] 0 failed tests –≤ —Ç–µ–∫—É—â–µ–º –Ω–∞–±–æ—Ä–µ

**–û—Ü–µ–Ω–∫–∞:** 3-4 —á–∞—Å–∞

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-003"

---

### PROD-004: –°–æ–∑–¥–∞—Ç—å test utilities –∏ –æ—Ç–∫–ª—é—á–∏—Ç—å SQL –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°—Å—ã–ª–∫–∞:** SaaS/testing ‚Üí TEST-005, TEST-006

**–ó–∞–¥–∞—á–∞:**

- TestDataFactory (uniqueEmail, uniquePhone)
- TestCleanup (cleanUsers, cleanOrders, cleanAll)
- –û—Ç–∫–ª—é—á–∏—Ç—å SQL logging –≤ —Ç–µ—Å—Ç–∞—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é

**DoD:**

- [ ] Test utilities —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ç–µ—Å—Ç–∞—Ö
- [ ] –ß–∏—Å—Ç—ã–π –≤—ã–≤–æ–¥ —Ç–µ—Å—Ç–æ–≤ (–±–µ–∑ SQL)

**–û—Ü–µ–Ω–∫–∞:** 3-4 —á–∞—Å–∞

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-004"

---

## üìÖ –ù–µ–¥–µ–ª—è 3-4: Security Hardening (production-grade)

### PROD-010: –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (Joi) + .env.example

**–°—Å—ã–ª–∫–∞:** SaaS/security ‚Üí SEC-001

**–ó–∞–¥–∞—á–∞:**

- Joi-—Å—Ö–µ–º–∞ –¥–ª—è –≤—Å–µ—Ö env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –¢–∏–ø–∏–∑–∞—Ü–∏—è –≤ process-env.d.ts
- –ü–æ–ª–Ω—ã–π .env.example —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

**DoD:**

- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç –±–µ–∑ –≤–∞–ª–∏–¥–Ω—ã—Ö env
- [ ] .env.example –∞–∫—Ç—É–∞–ª–µ–Ω

**–û—Ü–µ–Ω–∫–∞:** 3-4 —á–∞—Å–∞

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-010"

---

### PROD-011: HTTP –∑–∞—â–∏—Ç–∞ (Helmet, CORS, CSP)

**–°—Å—ã–ª–∫–∞:** SaaS/security ‚Üí SEC-002

**–ó–∞–¥–∞—á–∞:**

- Helmet —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- CORS whitelist –∏–∑ ALLOWED_ORIGINS
- –ë–∞–∑–æ–≤—ã–π CSP

**DoD:**

- [ ] Security headers –Ω–∞ –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–∞—Ö
- [ ] CORS —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö origins

**–û—Ü–µ–Ω–∫–∞:** 2-3 —á–∞—Å–∞

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-011"

---

### PROD-012: –£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ JWT + cookies + —Ä–æ—Ç–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤

**–°—Å—ã–ª–∫–∞:** SaaS/security ‚Üí SEC-003

**–ó–∞–¥–∞—á–∞:**

- Access token: 15m TTL
- Refresh token: 30d TTL, HttpOnly cookies
- –†–æ—Ç–∞—Ü–∏—è –∏ —Ä–µ–≤–æ–∫–∞—Ü–∏—è refresh —Ç–æ–∫–µ–Ω–æ–≤
- –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –ª–æ–≥–∞—Ö

**DoD:**

- [ ] Cookies —Ñ–ª–∞–≥–∏: HttpOnly, Secure, SameSite
- [ ] E2E —Ç–µ—Å—Ç—ã login/refresh/logout –∑–µ–ª—ë–Ω—ã–µ

**–û—Ü–µ–Ω–∫–∞:** 4-5 —á–∞—Å–æ–≤

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-012"

---

### PROD-013: Rate limiting –∏ BruteforceGuard

**–°—Å—ã–ª–∫–∞:** SaaS/security ‚Üí SEC-004

**–ó–∞–¥–∞—á–∞:**

- –ü—Ä–æ—Ñ–∏–ª–∏ rate limiting (login: 5/15min, refresh: 10/5min, registration: 3/1min)
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç–µ—Ä (3 rps, 100 rpm)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (warn, –±–µ–∑ PII)

**DoD:**

- [ ] Integration —Ç–µ—Å—Ç—ã rate limiting (429 responses)
- [ ] –õ–æ–≥–∏ –±–µ–∑ PII

**–û—Ü–µ–Ω–∫–∞:** 4-5 —á–∞—Å–æ–≤

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-013"

---

### PROD-014: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–°—Å—ã–ª–∫–∞:** SaaS/security ‚Üí SEC-005

**–ó–∞–¥–∞—á–∞:**

- CustomValidationPipe –≥–ª–æ–±–∞–ª—å–Ω–æ
- @IsSanitizedString –¥–ª—è –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
- –†—É—Å—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫

**DoD:**

- [ ] –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞ XSS –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –í—Å–µ DTO –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è

**–û—Ü–µ–Ω–∫–∞:** 3-4 —á–∞—Å–∞

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-014"

---

### PROD-015: Swagger + —Å–µ–∫—Ä–µ—Ç—ã + –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ PII

**–°—Å—ã–ª–∫–∞:** SaaS/security ‚Üí SEC-006, SEC-007, SEC-008

**–ó–∞–¥–∞—á–∞:**

- Swagger –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤ dev/stage
- –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- pino/pino-http —Å –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º PII

**DoD:**

- [ ] Swagger –∑–∞–∫—Ä—ã—Ç –≤ prod
- [ ] –õ–æ–≥–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã, –±–µ–∑ PII
- [ ] –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ ID –≤ –ª–æ–≥–∞—Ö

**–û—Ü–µ–Ω–∫–∞:** 4-5 —á–∞—Å–æ–≤

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-015"

---

## üìÖ –ù–µ–¥–µ–ª—è 5-6: Testing Coverage (–¥–æ 75%+)

### PROD-020: Comprehensive Authentication Tests

**–°—Å—ã–ª–∫–∞:** SaaS/testing ‚Üí TEST-010

**–ó–∞–¥–∞—á–∞:**

- 30 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è auth flow
- Login, register, password reset, refresh, logout
- –í—Å–µ edge cases

**DoD:**

- [ ] +30 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] Auth module coverage ‚â• 85%

**–û—Ü–µ–Ω–∫–∞:** 16-20 —á–∞—Å–æ–≤ (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞ –Ω–µ–¥–µ–ª—é)

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-020"

---

### PROD-021: Security Tests (Brute Force + Input Validation)

**–°—Å—ã–ª–∫–∞:** SaaS/testing ‚Üí TEST-011, TEST-012

**–ó–∞–¥–∞—á–∞:**

- –¢–µ—Å—Ç—ã rate limiting (429 responses)
- –¢–µ—Å—Ç—ã XSS/SQL injection prevention
- –¢–µ—Å—Ç—ã validation pipes

**DoD:**

- [ ] +27 —Ç–µ—Å—Ç–æ–≤ (12 brute force + 15 validation)
- [ ] Guards coverage ‚â• 85%

**–û—Ü–µ–Ω–∫–∞:** 18-22 —á–∞—Å–∞ (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å)

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-021"

---

### PROD-022: RBAC Tests (Role Hierarchy + Permissions)

**–°—Å—ã–ª–∫–∞:** SaaS/testing ‚Üí TEST-020

**–ó–∞–¥–∞—á–∞:**

- –¢–µ—Å—Ç—ã role hierarchy
- Permission matrix –¥–ª—è –≤—Å–µ—Ö endpoints
- Tenant isolation

**DoD:**

- [ ] +20 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] RoleGuard coverage ‚â• 85%

**–û—Ü–µ–Ω–∫–∞:** 14-18 —á–∞—Å–æ–≤

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-022"

---

### PROD-023: Coverage Configuration + Thresholds

**–°—Å—ã–ª–∫–∞:** SaaS/testing ‚Üí TEST-040

**–ó–∞–¥–∞—á–∞:**

- jest.config.js —Å per-module thresholds
- Global: 70% branches/functions, 75% lines/statements
- Auth/guards/controllers: 85%+
- CI –±–ª–æ–∫–∏—Ä—É–µ—Ç merge –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ coverage

**DoD:**

- [ ] Coverage thresholds —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] CI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç coverage

**–û—Ü–µ–Ω–∫–∞:** 3-4 —á–∞—Å–∞

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-023"

---

## üìÖ –ù–µ–¥–µ–ª—è 7: Performance Optimization

### PROD-030: –ò—Å–ø—Ä–∞–≤–∏—Ç—å N+1 queries

**–ó–∞–¥–∞—á–∞:**

- Audit –≤—Å–µ—Ö endpoint'–æ–≤ –Ω–∞ N+1
- –î–æ–±–∞–≤–∏—Ç—å include/associations –≥–¥–µ –Ω—É–∂–Ω–æ
- –í—ã–±–∏—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ attributes

**DoD:**

- [ ] –ù–µ—Ç N+1 –≤ —Å–ø–∏—Å–∫–∞—Ö (products, orders, users)
- [ ] –ó–∞–ø—Ä–æ—Å—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

**–û—Ü–µ–Ω–∫–∞:** 6-8 —á–∞—Å–æ–≤

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-030"

---

### PROD-031: –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã

**–ó–∞–¥–∞—á–∞:**

- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –≤—Å–µ—Ö FK
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ —Ñ–∏–ª—å—Ç—Ä—É–µ–º—ã—Ö –ø–æ–ª–µ–π
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–æ–∫

**DoD:**

- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- [ ] Explain analyze –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–ª—É—á—à–µ–Ω–∏–µ

**–û—Ü–µ–Ω–∫–∞:** 4-6 —á–∞—Å–æ–≤

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-031"

---

### PROD-032: –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ –ª–∏–º–∏—Ç—ã

**–ó–∞–¥–∞—á–∞:**

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –Ω–∞ –≤—Å–µ—Ö —Å–ø–∏—Å–∫–∞—Ö
- Default limit: 5, max limit: 100
- Meta —Å totalCount, currentPage, lastPage

**DoD:**

- [ ] –í—Å–µ —Å–ø–∏—Å–∫–∏ –ø–∞–≥–∏–Ω–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Meta –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

**–û—Ü–µ–Ω–∫–∞:** 3-4 —á–∞—Å–∞

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-032"

---

## üìÖ –ù–µ–¥–µ–ª—è 8: CI/CD + Deploy

### PROD-040: CI/CD Pipeline (GitHub Actions)

**–°—Å—ã–ª–∫–∞:** SaaS/security ‚Üí SEC-010

**–ó–∞–¥–∞—á–∞:**

- Lint + tests + build –Ω–∞ –∫–∞–∂–¥—ã–π PR
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ merge –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- Cache –¥–ª—è node_modules

**DoD:**

- [ ] Pipeline —Å—Ç–∞–±–∏–ª–µ–Ω
- [ ] PR –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏

**–û—Ü–µ–Ω–∫–∞:** 4-6 —á–∞—Å–æ–≤

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-040"

---

### PROD-041: Production Deploy (Railway/Render)

**–ó–∞–¥–∞—á–∞:**

- Deploy API –Ω–∞ Railway/Render
- PostgreSQL –±–∞–∑–∞ –Ω–∞ Supabase/Railway
- Environment variables
- Health check endpoint

**DoD:**

- [ ] API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ https
- [ ] –ë–∞–∑–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Migrations –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- [ ] Swagger –¥–æ—Å—Ç—É–ø–µ–Ω

**–û—Ü–µ–Ω–∫–∞:** 4-6 —á–∞—Å–æ–≤

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-041"

---

### PROD-042: Docker Production Configuration

**–ó–∞–¥–∞—á–∞:**

- Multi-stage Docker build
- Docker Compose –¥–ª—è production
- .dockerignore –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω

**DoD:**

- [ ] –û–±—Ä–∞–∑ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω (—Ä–∞–∑–º–µ—Ä)
- [ ] Compose —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ prod —Ä–µ–∂–∏–º–µ

**–û—Ü–µ–Ω–∫–∞:** 3-4 —á–∞—Å–∞

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-042"

---

## üìÖ –ù–µ–¥–µ–ª—è 9: Documentation & Polish

### PROD-050: Professional README

**–ó–∞–¥–∞—á–∞:**

- –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- Diagram –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (Domain/Infrastructure)
- Installation instructions
- API documentation link
- Live demo link
- Tech stack badges
- Screenshots/GIF (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**DoD:**

- [ ] README –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π
- [ ] Diagram –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- [ ] –°—Å—ã–ª–∫–∏ –Ω–∞ demo –∏ docs

**–û—Ü–µ–Ω–∫–∞:** 4-6 —á–∞—Å–æ–≤

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-050"

---

### PROD-051: Architectural Decision Records (ADR)

**–ó–∞–¥–∞—á–∞:**

- ADR-001: –ü–æ—á–µ–º—É Domain/Infrastructure separation
- ADR-002: –ü–æ—á–µ–º—É Sequelize (–Ω–µ TypeORM)
- ADR-003: –ü–æ—á–µ–º—É JWT + refresh tokens
- ADR-004: Testing strategy (unit vs integration)

**DoD:**

- [ ] 4-5 ADR –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –û–±—ä—è—Å–Ω–µ–Ω—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

**–û—Ü–µ–Ω–∫–∞:** 4-6 —á–∞—Å–æ–≤

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-051"

---

### PROD-052: Swagger Documentation Complete

**–ó–∞–¥–∞—á–∞:**

- –í—Å–µ endpoints –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- Examples –¥–ª—è –≤—Å–µ—Ö request/response
- @ApiBearerAuth –≥–¥–µ –Ω—É–∂–Ω–æ
- Schemas –¥–ª—è –≤—Å–µ—Ö DTO

**DoD:**

- [ ] Swagger 100% –ø–æ–ª–Ω—ã–π
- [ ] –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ UI

**–û—Ü–µ–Ω–∫–∞:** 3-4 —á–∞—Å–∞

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-052"

---

### PROD-053: GitHub Profile Optimization

**–ó–∞–¥–∞—á–∞:**

- Pin online-store-backend
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ bio
- Contributions –∞–∫—Ç–∏–≤–Ω—ã–µ
- Topics/tags –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

**DoD:**

- [ ] GitHub –ø—Ä–æ—Ñ–∏–ª—å –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç
- [ ] –ü—Ä–æ–µ–∫—Ç –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ

**–û—Ü–µ–Ω–∫–∞:** 1-2 —á–∞—Å–∞

**Gate:** require "–û–¥–æ–±—Ä—è—é PROD-053"

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Phase 1

### Production Ready, –µ—Å–ª–∏:

**Testing:**

- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ (0 failed)
- [ ] Coverage ‚â• 75% global
- [ ] Coverage ‚â• 85% auth/guards
- [ ] –ù–µ—Ç race conditions
- [ ] –ù–µ—Ç flaky tests

**Security:**

- [ ] Helmet + CORS + CSP –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] JWT + cookies + —Ä–æ—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Rate limiting –Ω–∞ –≤—Å–µ—Ö endpoints
- [ ] Input validation + sanitization
- [ ] –õ–æ–≥–∏ –±–µ–∑ PII

**Performance:**

- [ ] –ù–µ—Ç N+1 queries
- [ ] –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –≤—Å–µ—Ö FK
- [ ] –ü–∞–≥–∏–Ω–∞—Ü–∏—è –Ω–∞ –≤—Å–µ—Ö —Å–ø–∏—Å–∫–∞—Ö

**Deploy:**

- [ ] CI/CD pipeline —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Production deployment live
- [ ] Health check endpoint
- [ ] Migrations –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ

**Documentation:**

- [ ] README –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- [ ] ADR –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Swagger 100% –ø–æ–ª–Ω—ã–π
- [ ] API examples –∞–∫—Ç—É–∞–ª—å–Ω—ã

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç Phase 1

### –ß—Ç–æ –ø–æ–ª—É—á–∏—à—å:

1. **Production-grade –ø—Ä–æ–µ–∫—Ç**
    - 75%+ coverage
    - Security hardened
    - Performance optimized
    - Deployed live

2. **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
    - README —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
    - ADR —Å —Ä–µ—à–µ–Ω–∏—è–º–∏
    - Swagger –ø–æ–ª–Ω—ã–π
    - Code comments

3. **Middle-level –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ**
    - –°–ª–æ–∂–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
    - Production –æ–ø—ã—Ç
    - CI/CD pipeline
    - Live demo

4. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Å–æ–±–µ—Å–∞–º**
    - –ú–æ–∂–µ—à—å –æ–±—ä—è—Å–Ω–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
    - –ú–æ–∂–µ—à—å –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–¥ –∏ —Ä–µ—à–µ–Ω–∏—è
    - –ú–æ–∂–µ—à—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å live API
    - –ú–æ–∂–µ—à—å —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –ø—Ä–æ challenges

---

## üìä Tracking Progress

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç:

**–ù–µ–¥–µ–ª—è 1-2 (Fix Issues):**

- [ ] PROD-001: Race conditions –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- [ ] PROD-002: 500 errors –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- [ ] PROD-003: Addresses –∏ RBAC —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] PROD-004: Test utilities —Å–æ–∑–¥–∞–Ω—ã

**–ù–µ–¥–µ–ª—è 3-4 (Security):**

- [ ] PROD-010: Env validation
- [ ] PROD-011: Helmet + CORS + CSP
- [ ] PROD-012: JWT —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ
- [ ] PROD-013: Rate limiting
- [ ] PROD-014: Input validation
- [ ] PROD-015: Swagger + logging

**–ù–µ–¥–µ–ª—è 5-6 (Testing):**

- [ ] PROD-020: Auth tests (+30)
- [ ] PROD-021: Security tests (+27)
- [ ] PROD-022: RBAC tests (+20)
- [ ] PROD-023: Coverage thresholds

**–ù–µ–¥–µ–ª—è 7 (Performance):**

- [ ] PROD-030: N+1 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- [ ] PROD-031: –ò–Ω–¥–µ–∫—Å—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] PROD-032: –ü–∞–≥–∏–Ω–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞

**–ù–µ–¥–µ–ª—è 8 (Deploy):**

- [ ] PROD-040: CI/CD pipeline
- [ ] PROD-041: Production deploy
- [ ] PROD-042: Docker production

**–ù–µ–¥–µ–ª—è 9 (Docs):**

- [ ] PROD-050: Professional README
- [ ] PROD-051: ADR –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] PROD-052: Swagger complete
- [ ] PROD-053: GitHub optimized

---

## üí° Tips for Middle Level

### –ö–∞–∫ –¥—É–º–∞—Ç—å –æ –∑–∞–¥–∞—á–∞—Ö:

**Junior –ø–æ–¥—Ö–æ–¥:**

- "–°–¥–µ–ª–∞—Ç—å —Ñ–∏—á—É X"
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ë–µ–∑ —Ç–µ—Å—Ç–æ–≤ "–ø–æ—Ç–æ–º –¥–æ–±–∞–≤–ª—é"

**Middle –ø–æ–¥—Ö–æ–¥:**

- "–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è X"
- –ü–æ–¥—É–º–∞—Ç—å –æ–± edge cases
- –¢–µ—Å—Ç—ã —Å—Ä–∞–∑—É
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ (ADR)
- Performance –∏ security —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è Middle –Ω–∞–≤—ã–∫–æ–≤:

–í —Ä–µ–∑—é–º–µ –∏ –Ω–∞ —Å–æ–±–µ—Å–∞—Ö –∞–∫—Ü–µ–Ω—Ç–∏—Ä—É–π:

- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** "–°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–ª Clean Architecture —Å Domain/Infrastructure"
- **–ö–∞—á–µ—Å—Ç–≤–æ:** "–ü–æ–∫—Ä—ã–ª —Ç–µ—Å—Ç–∞–º–∏ 75%+, –≤–∫–ª—é—á–∞—è edge cases"
- **Security:** "–†–µ–∞–ª–∏–∑–æ–≤–∞–ª JWT + RBAC + rate limiting production-grade"
- **Performance:** "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª N+1 queries, –¥–æ–±–∞–≤–∏–ª –∏–Ω–¥–µ–∫—Å—ã"
- **Production:** "–ó–∞–¥–µ–ø–ª–æ–∏–ª —Å CI/CD –Ω–∞ Railway"

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

**–ù–∞—á–∏–Ω–∞–π —Å PROD-001** (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ race conditions –≤ —Ç–µ—Å—Ç–∞—Ö)

–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ:

- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã —É–±–∏–≤–∞—é—Ç –¥–æ–≤–µ—Ä–∏–µ –∫ –ø—Ä–æ–µ–∫—Ç—É
- Middle –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å –ø–∏—Å–∞—Ç—å –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –≠—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç attention to detail

**–ü–æ—Å–ª–µ PROD-004 –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ Security hardening!**

**–£–¥–∞—á–∏! –¢—ã –¥–µ–ª–∞–µ—à—å strong Middle –ø—Ä–æ–µ–∫—Ç! üí™üöÄ**
