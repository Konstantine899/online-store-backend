# =============================================================================
# TEST ENVIRONMENT CONFIGURATION
# =============================================================================
# Скопируйте в .test.env для локальных тестов
# Этот файл используется Jest тестами
# =============================================================================

NODE_ENV=test
PORT=5001

# Logging (минимум для чистого вывода тестов)
LOG_LEVEL=error
DEBUG_SQL=false

# CORS (localhost для тестов)
ALLOWED_ORIGINS=http://localhost,http://127.0.0.1:3000,http://127.0.0.1:5000

# Secrets (для тестов можно использовать простые значения)
COOKIE_PARSER_SECRET_KEY=test_cookie_secret_key_for_tests_only
JWT_ACCESS_SECRET=test_access_secret_key_for_tests_only
JWT_REFRESH_SECRET=test_refresh_secret_key_for_tests_only
JWT_PRIVATE_KEY=test_private_key_for_tests_only_minimum_32_chars_required

JWT_ACCESS_TTL=5m
JWT_REFRESH_TTL=1h
JWT_ACCESS_EXPIRES=5m
JWT_REFRESH_EXPIRES=1h

# Test Database (обычно Docker контейнер)
DIALECT=mysql
SQL_LOGGING=false
# Примечание: SQL логи автоматически подавляются в тестах
# Установите DEBUG_SQL=true для включения SQL логов при отладке
MYSQL_HOST=127.0.0.1
MYSQL_PORT=3308
MYSQL_DATABASE=online_store_test
MYSQL_USER=test_user
MYSQL_PASSWORD=test_password

# Для Sequelize CLI (если используется)
TEST_MYSQL_HOST=127.0.0.1
TEST_MYSQL_PORT=3308
TEST_MYSQL_DATABASE=online_store_test
TEST_MYSQL_USER=test_user
TEST_MYSQL_PASSWORD=test_password
TEST_DIALECT=mysql

# Security (можно отключить для ускорения тестов)
SECURITY_HELMET_ENABLED=false
SECURITY_CORS_ENABLED=false
SECURITY_CSP_ENABLED=false

# Swagger API Documentation (включен для тестов документации)
SWAGGER_ENABLED=true

# Rate Limiting (более мягкие лимиты для тестов)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_GLOBAL_RPS=100
RATE_LIMIT_GLOBAL_RPM=1000
RATE_LIMIT_LOGIN_ATTEMPTS=10
RATE_LIMIT_LOGIN_WINDOW=1m
RATE_LIMIT_REFRESH_ATTEMPTS=20
RATE_LIMIT_REFRESH_WINDOW=1m
RATE_LIMIT_REG_ATTEMPTS=10
RATE_LIMIT_REG_WINDOW=1m

